name: 'Setup binaries'
description: 'Greet someone'

inputs:
  nodejs:
    description: 'Inform the Nodejs version'
    required: false
    default: 'false'
  docker-qmeu:
    description: 'Install'
    required: false
    default: 'false'
  docker-buildx:
    description: 'Install'
    required: false
    default: 'false'

outputs:
  buildx_name:
    description: ""
    value: ${{steps.docker-buildx.outputs.name}}

runs:
  using: "composite"

  steps:
    # nodejs
    - if: inputs.nodejs != 'false'
      uses: actions/setup-node@v3
      id: node
      with:
        node-version: ${{ inputs.nodejs }}

    - if: inputs.nodejs != 'false'
      shell: bash
      id: npm
      run: npm -g install yarn npm

    # docker
    - if: inputs.docker-qmeu != 'false'
      uses: docker/setup-qemu-action@v1
      id: docker-qmeu

    - if: inputs.docker-buildx != 'false'
      uses: docker/setup-buildx-action@master
      id: docker-buildx
      with:
        install: true